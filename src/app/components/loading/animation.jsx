'use client';

import { useLayoutEffect, useRef } from 'react';
import anime from 'animejs';
import { Box } from '@mui/material';

const fillColorArray = [
  '#3583a4',
  '#21578d',
  '#193251',
  '#13101f',
  '#7c2430',
  '#df2e34',
  '#e85d2c',
  '#ffbd02',
];

export default function Animation() {
  const svgFillRefs = Array.from({ length: 12 }, () => useRef(null));
  const color = getRandomColor();
  function getRandomColor() {
    const index = Math.floor(Math.random() * fillColorArray.length);
    return fillColorArray[index];
  }

  useLayoutEffect(() => {
    const fillAnimations = svgFillRefs.map(svgRef => {
      const path = svgRef.current;
      const fillColor = window.getComputedStyle(path).getPropertyValue('fill');

      return anime({
        targets: path,
        fill: () => [fillColor, color],
        easing: 'easeInOutQuad',
        duration: 2000,
        direction: 'alternate',
        loop: true,
      });
    });

    return () => {
      fillAnimations.forEach(animation => animation.pause());
    };
  }, []);

  return (
    <Box
      sx={{
        position: 'absolute',
        top: '50%',
        left: '50%',
        transform: 'translate(-50%, -50%)',
      }}
    >
      <svg
        width="500"
        height="500"
        viewBox="0 0 500 500"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          ref={svgFillRefs[0]}
          fill="#e85d2c"
          d="M 239.438 96.996 C 237.585 97.463 236.126 96.11 235.058 92.936 C 239.49 90.91 240.814 88.36 239.031 85.286 C 235.622 79.406 217.961 76.026 220.544 68.816 C 224.005 59.186 262.029 56.316 236.724 43.646 C 236.589 43.592 236.579 43.446 236.709 43.383 C 236.768 43.354 236.844 43.351 236.907 43.376 C 247.554 46.596 257.191 53.246 243.017 60.546 C 239.071 62.576 225.146 70.336 234.049 74.276 C 241.785 77.696 246.741 80.336 248.917 82.196 C 256.509 88.676 246.898 94.646 239.438 96.996"
        />
        <path
          ref={svgFillRefs[1]}
          fill="#ffbd02"
          d="M 235.058 92.936 C 236.126 96.11 237.585 97.463 239.438 96.996 C 238.171 97.55 237.222 98.153 236.592 98.806 C 235.832 99.603 236.157 100.728 237.287 101.206 C 239.936 102.32 242.528 103.473 245.063 104.666 C 251.92 107.916 240.854 114.636 237.209 116.156 C 233.425 117.723 230.042 119.71 227.06 122.116 C 226.781 122.343 226.615 122.606 226.562 122.906 C 225.461 129.346 244.761 133.756 247.147 142.516 L 247.187 147.636 C 244.223 154.686 238.376 158.436 230.22 162.706 L 228.503 162.546 C 228.049 162.506 227.804 162.31 227.768 161.956 C 227.594 160.27 226.515 159.173 224.53 158.666 C 224.102 158.56 223.874 158.333 223.848 157.986 L 223.769 156.996 C 238.821 146.416 223.756 138.926 212.926 133.196 C 207.629 130.396 205.688 125.636 210.763 121.916 C 216.23 117.896 223.743 115.366 230.207 112.796 C 231.631 112.23 231.718 110.702 230.363 110.045 C 230.304 110.016 230.244 109.99 230.181 109.966 C 210.225 102.296 226.247 97.006 235.058 92.936 Z"
        />
        <path
          ref={svgFillRefs[2]}
          fill="#3583a4"
          d="M 223.769 156.996 L 223.848 157.986 C 223.874 158.333 224.102 158.56 224.53 158.666 C 226.515 159.173 227.594 160.27 227.768 161.956 C 227.804 162.31 228.049 162.506 228.503 162.546 L 230.22 162.706 C 217.384 169.996 185.011 180.806 212.375 195.216 C 210.365 197.923 207.083 198.973 202.528 198.366 C 199.61 196.226 196.192 194.153 192.275 192.146 C 177.275 184.446 185.313 175.996 196.838 170.586 C 205.649 166.446 216.256 162.396 223.769 156.996 Z"
        />
        <path
          ref={svgFillRefs[3]}
          fill="#21578d"
          d="M 212.375 195.216 C 227.257 202.126 251.697 210.326 233.406 226.416 C 226.247 232.706 216.741 237.976 212.913 246.666 C 209.7 247.126 206.514 243.866 204.128 242.426 C 198.188 238.826 193.56 233.976 189.836 228.966 C 204.233 222.076 219.731 211.216 202.528 198.366 C 207.083 198.973 210.365 197.923 212.375 195.216 Z"
        />
        <path
          ref={svgFillRefs[4]}
          fill="#3583a4"
          d="M 189.836 228.966 C 193.56 233.976 198.188 238.826 204.128 242.426 C 206.514 243.866 209.7 247.126 212.913 246.666 C 211.707 256.436 219.613 262.786 227.69 270.636 C 236.107 278.826 232.777 289.876 224.884 297.626 C 212.358 309.926 199.02 320.643 184.867 329.776 L 178.311 321.226 C 178.272 321.182 178.309 321.121 178.379 321.117 C 178.383 321.116 178.387 321.116 178.39 321.116 L 178.914 321.116 C 179.177 321.116 179.229 321.036 179.072 320.876 C 174.448 316.403 169.592 312.086 164.505 307.926 C 160.269 304.456 158.263 300.316 152.678 297.196 C 152.477 297.09 152.376 297.13 152.376 297.316 C 152.376 297.403 152.376 297.49 152.376 297.576 C 152.376 297.707 152.19 297.789 152.042 297.723 C 152.025 297.716 152.01 297.707 151.996 297.696 L 148.299 294.506 C 159.811 289.076 192.918 277.796 180.094 263.446 C 174.273 256.936 156.782 252.946 163.088 242.906 C 166.445 237.576 183.018 231.626 189.836 228.966 Z"
        />
        <path
          ref={svgFillRefs[5]}
          fill="#21578d"
          d="M 148.299 294.506 L 151.996 297.696 C 152.118 297.789 152.325 297.746 152.37 297.62 C 152.375 297.605 152.376 297.591 152.376 297.576 C 152.376 297.49 152.376 297.403 152.376 297.316 C 152.376 297.13 152.477 297.09 152.678 297.196 C 158.263 300.316 160.269 304.456 164.505 307.926 C 169.592 312.086 174.448 316.403 179.072 320.876 C 179.229 321.036 179.177 321.116 178.914 321.116 L 178.39 321.116 C 178.32 321.114 178.273 321.171 178.306 321.219 C 178.307 321.222 178.31 321.224 178.311 321.226 L 184.867 329.776 C 181.956 331.49 178.753 333.49 175.256 335.776 C 167.651 340.756 162.228 347.07 158.985 354.716 C 154.099 352.456 149.654 349.64 145.65 346.266 C 145.571 346.2 145.476 346.17 145.362 346.176 C 145.187 346.176 145.021 346.19 144.863 346.216 C 144.636 346.256 144.427 346.22 144.234 346.106 C 136.21 341.1 129.156 335.39 123.072 328.976 C 122.819 328.71 122.478 328.553 122.049 328.506 C 121.708 328.466 121.464 328.386 121.315 328.266 C 118.806 326.346 116.77 324.166 115.205 321.726 C 115.021 321.44 114.733 321.343 114.339 321.436 C 114.165 321.483 113.998 321.543 113.841 321.616 C 113.676 321.69 113.605 321.653 113.631 321.506 L 113.697 321.156 C 113.758 320.783 113.545 320.616 113.054 320.656 L 112.019 320.746 C 120.979 309.86 133.072 301.113 148.299 294.506 Z"
        />
        <path
          ref={svgFillRefs[6]}
          fill="#193251"
          d="M 158.985 354.716 C 158.014 358.976 158.111 363.293 159.273 367.666 C 160.305 371.54 162.433 375.446 165.658 379.386 C 180.737 397.796 204.076 403.906 232.371 404.096 C 232.808 404.103 233.026 404.27 233.026 404.596 L 232.987 438.536 C 232.987 439.356 232.445 439.766 231.361 439.766 C 225.575 439.766 219.648 439.59 213.582 439.236 C 142.438 435.076 70.035 375.896 112.019 320.746 L 113.054 320.656 C 113.545 320.616 113.758 320.783 113.697 321.156 L 113.631 321.506 C 113.605 321.653 113.676 321.69 113.841 321.616 C 113.998 321.543 114.165 321.483 114.339 321.436 C 114.733 321.343 115.021 321.44 115.205 321.726 C 116.77 324.166 118.806 326.346 121.315 328.266 C 121.464 328.386 121.708 328.466 122.049 328.506 C 122.478 328.553 122.819 328.71 123.072 328.976 C 129.156 335.39 136.21 341.1 144.234 346.106 C 144.427 346.22 144.636 346.256 144.863 346.216 C 145.021 346.19 145.187 346.176 145.362 346.176 C 145.476 346.17 145.571 346.2 145.65 346.266 C 149.654 349.64 154.099 352.456 158.985 354.716 Z"
        />
        <path
          ref={svgFillRefs[7]}
          fill="#13101f"
          d="M 365.192 371.436 C 365.58 371.44 365.859 371.718 365.755 371.996 C 362.006 383.046 355.41 392.706 345.786 401.836 C 318.698 427.51 282.528 440.16 237.274 439.786 C 236.838 439.78 236.619 439.613 236.619 439.286 L 236.619 404.846 C 236.619 404.2 237.044 403.87 237.891 403.856 C 272.086 403.386 299.122 395.296 313.427 370.126 C 313.655 369.726 314.052 369.546 314.62 369.586 C 331.447 370.753 348.304 371.37 365.192 371.436 Z"
        />
        <path
          ref={svgFillRefs[8]}
          fill="#7c2430"
          d="M 341.145 304.826 C 355.629 314.406 364.922 326.666 369.02 341.606 C 370.271 346.133 370.996 351.253 371.197 356.966 C 371.215 357.326 370.992 357.47 370.528 357.396 L 367.001 356.846 C 366.757 356.813 366.547 356.863 366.372 356.996 L 366.083 357.216 C 365.839 357.396 365.546 357.493 365.205 357.506 L 316.377 358.656 C 315.749 358.666 315.211 358.317 315.131 357.846 C 312.535 343.026 297.811 336.306 283.585 327.736 C 301.574 318.896 320.761 311.26 341.145 304.826 Z"
        />
        <path
          ref={svgFillRefs[9]}
          fill="#df2e34"
          d="M 301.757 236.596 C 309.512 241.61 310.883 246.76 305.875 252.046 C 299.332 258.956 285.997 261.116 287.78 271.496 C 288.856 277.686 297.68 283.346 304.55 286.536 C 317.098 292.356 329.764 297.246 341.145 304.826 C 320.761 311.26 301.574 318.896 283.585 327.736 C 269.6 317.99 257.209 307.523 246.413 296.336 C 224.989 274.136 258.777 266.766 269.188 251.086 C 272.636 250.706 274.407 252.446 277.658 252.146 C 277.962 252.117 278.235 252.297 278.248 252.536 C 278.248 252.636 278.248 252.736 278.248 252.836 C 278.267 253.11 278.45 253.256 278.799 253.276 C 283.965 253.516 286.705 251.636 290.967 248.946 C 296.382 245.536 297.942 240.296 301.757 236.596 Z"
        />
        <path
          ref={svgFillRefs[10]}
          fill="#e85d2c"
          d="M 286.509 189.676 C 284.765 195.966 276.019 200.746 270.158 205.106 C 257.807 214.286 272.584 223.226 282.955 227.666 C 289.53 230.48 295.797 233.456 301.757 236.596 C 297.942 240.296 296.382 245.536 290.967 248.946 C 286.705 251.636 283.965 253.516 278.799 253.276 C 278.45 253.256 278.267 253.11 278.248 252.836 C 278.248 252.736 278.248 252.636 278.248 252.536 C 278.235 252.297 277.962 252.117 277.658 252.146 C 274.407 252.446 272.636 250.706 269.188 251.086 C 273.633 239.186 263.878 233.976 252.798 227.966 C 244.223 223.316 240.5 213.696 250.163 208.406 C 256.247 205.076 279.992 194.376 271.325 187.036 C 272.479 186.75 273.655 187.016 274.852 187.836 C 275.159 188.039 275.57 188.124 275.967 188.066 C 279.271 187.56 282.453 187.866 285.512 188.986 C 285.696 189.053 285.787 189.163 285.787 189.316 C 285.787 189.41 285.787 189.51 285.787 189.616 C 285.785 189.717 285.933 189.778 286.056 189.726 C 286.064 189.723 286.071 189.72 286.076 189.716 C 286.225 189.63 286.37 189.616 286.509 189.676 Z"
        />
        <path
          ref={svgFillRefs[11]}
          fill="#ffbd02"
          d="M 286.509 189.676 C 286.37 189.616 286.225 189.63 286.076 189.716 C 285.963 189.779 285.803 189.733 285.789 189.633 C 285.789 189.628 285.787 189.622 285.787 189.616 C 285.787 189.51 285.787 189.41 285.787 189.316 C 285.787 189.163 285.696 189.053 285.512 188.986 C 282.453 187.866 279.271 187.56 275.967 188.066 C 275.57 188.124 275.159 188.039 274.852 187.836 C 273.655 187.016 272.479 186.75 271.325 187.036 C 265.373 180.536 249.035 177.626 246.597 170.736 C 244.643 165.226 254.044 160.956 259.105 157.936 C 269.398 151.776 257.86 146.526 251.972 143.026 C 251.491 142.734 251.605 142.153 252.178 141.981 C 252.361 141.927 252.562 141.925 252.746 141.976 C 260.089 144.096 278.406 150.926 268.965 158.776 C 266.054 161.196 263.07 163.466 260.01 165.586 C 258.617 166.554 258.57 168.215 259.905 169.236 C 262.934 171.546 265.949 173.496 269.962 175.236 C 277.606 178.556 286.994 182.576 286.509 189.676 Z"
        />
        <path
          fill="#3583a4"
          d="M 246.4 363.116 C 243.665 362.27 242.8 363.45 243.804 366.656 L 231.046 364.496 C 230.722 364.438 230.602 364.134 230.83 363.949 C 230.885 363.904 230.956 363.872 231.033 363.856 L 244.617 361.096 C 245.09 360.997 245.59 361.149 245.836 361.466 C 246.134 361.86 246.321 362.41 246.4 363.116 Z"
        />
        <path
          fill="#13101f"
          d="M 243.804 366.656 C 242.8 363.45 243.665 362.27 246.4 363.116 C 287.217 362.816 325.411 361.196 364.903 360.106 C 365.332 360.093 365.546 360.25 365.546 360.576 L 365.546 368.596 C 365.546 369.05 365.249 369.27 364.654 369.256 C 325.227 368.546 289.393 365.266 246.859 365.356 C 246.327 365.356 246.007 365.556 245.902 365.956 L 245.666 366.876 C 245.609 367.085 245.406 367.25 245.141 367.306 C 244.617 367.42 244.171 367.203 243.804 366.656 Z"
        />
        <rect
          fill="#13101f"
          x="-6.123"
          y="-4.64"
          transform="matrix(0.999996, 0.002663, -0.004577, 0.999991, 374.383379, 364.596971)"
          width="12.246"
          height="9.28"
          rx="0.42"
        />
        <rect
          fill="#13101f"
          x="-2.884"
          y="-4.911"
          transform="matrix(0.999773, 0.021299, -0.036604, 0.999447, 385.016832, 364.457017)"
          width="5.768"
          height="9.822"
          rx="0.85"
        />
        <path
          fill="#13101f"
          d="M 390.379 366.496 C 389.89 364.943 389.956 363.383 390.576 361.816 C 390.725 361.436 391.053 361.216 391.559 361.156 C 395.899 360.596 399.898 358.686 404.264 358.816 C 405.11 358.843 405.78 359.371 405.785 360.016 L 405.903 369.796 C 405.913 370.363 405.559 370.566 404.841 370.406 L 391.454 367.356 C 390.877 367.23 390.519 366.943 390.379 366.496 Z"
        />
        <path
          fill="#13101f"
          d="M 420.628 366.376 C 420.217 366.85 420.077 367.383 420.208 367.976 C 420.272 368.267 420.019 368.541 419.644 368.586 L 417.769 368.806 C 417.292 368.863 416.865 368.575 416.878 368.206 C 416.913 367.186 416.402 366.786 415.344 367.006 C 414.95 367.093 414.557 367.103 414.164 367.036 C 411.586 366.59 409.269 365.793 407.215 364.646 C 406.568 364.28 406.672 363.518 407.402 363.275 C 407.489 363.246 407.58 363.226 407.673 363.216 L 414.885 362.396 C 415.306 362.353 415.662 362.134 415.816 361.826 L 416.602 360.236 C 416.795 359.843 417.162 359.673 417.704 359.726 L 423.119 360.246 C 423.696 360.3 424.011 360.543 424.063 360.976 L 424.889 367.326 C 425.004 368.246 423.772 368.916 422.669 368.532 C 422.459 368.459 422.273 368.351 422.123 368.216 C 421.633 367.77 421.424 367.233 421.493 366.606 C 421.527 366.33 421.156 366.13 420.827 366.246 C 420.746 366.274 420.678 366.319 420.628 366.376 Z"
        />
        <rect
          fill="#13101f"
          x="-2.295"
          y="-4.57"
          transform="matrix(0.999986, -0.005324, 0.009153, 0.999965, 429.67519, 364.436967)"
          width="4.589"
          height="9.14"
          rx="0.91"
        />
      </svg>
    </Box>
  );
}
